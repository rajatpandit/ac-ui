<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>jQuery UI Autocomplete - Remote with caching</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Slab" rel="stylesheet">  
  <style>
    body {
        font-family: 'Roboto Slab', serif !important;
    }
      .img {
          height: 32px;
          width: 32px;
          margin-right: 10px;
      }
      .typeahead {
          width:100%;
          font-size: 2em;
          font-family: 'Roboto Slab', serif !important;          
          padding:5px;
      }
  </style>
  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
  <script src="/js/typeahead.bundle.min.js"></script>

</head>
<body>
 <h1>Product Search</h1>

 <div id="remote">
        <input class="typeahead" type="text" placeholder="Start typing product names">
 </div>
 
 <script>
 $('#remote .typeahead').typeahead(null, {
  name: 'product-rec',
  highlight: true,
  // display: 'name',
  templates: {
      suggestion: function(data) {
          return `<div><img src="${data.image}" class="img"/> ${data.name}</div>`;
      }
  },
  source: function(query, syncResults, asyncResults) {
      $.get('/api/ac?txt=' + query, function(data) {
          console.log(data);
          asyncResults(data);
      });
  }
});
 </script>
</body>
</html>